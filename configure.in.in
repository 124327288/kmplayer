#MIN_CONFIG(3)

AM_INIT_AUTOMAKE(kmplayer,0.7.4c)

KDE_CHECK_HEADER(koDocument.h,
  have_koffice=yes,
  have_koffice=no)

AC_MSG_CHECKING([if kmplayer can be compiled with koffice support])
AC_MSG_RESULT($have_koffice)

if test "$have_koffice" = "yes"; then
        AC_DEFINE(HAVE_KOFFICE, 1, [If we have koffice installed])
        LIB_KOFFICE="-lkofficecore -lkofficeui"
        AC_SUBST(LIB_KOFFICE)
fi

KDE_CHECK_HEADER(xine.h,
   have_xine=yes,
   have_xine=no)

AC_MSG_CHECKING([if kxineplayer can be compiled])
AC_MSG_RESULT($have_xine)

if test "$have_xine" = "yes"; then
        AC_DEFINE(HAVE_XINE, 1, [If we have libxine installed])
        LIB_XINE="`xine-config --libs`"
        AC_SUBST(LIB_XINE)
        CFLAGS_XINE="`xine-config --cflags`"
        AC_SUBST(CFLAGS_XINE)
fi

AM_CONDITIONAL(include_kxineplayer, test "$have_xine" = "yes")
